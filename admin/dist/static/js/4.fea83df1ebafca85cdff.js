webpackJsonp([4],{C6Eq:function(e,r,s){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var o=s("lbHh"),t=s.n(o),a={name:"editPassworld",data:function(){var e=this,r=function(r,s,o){""===s?o(new Error("请输入密码")):(""!==e.ruleForm2.checkPass&&e.$refs.ruleForm2.validateField("checkPass"),o())};return{ruleForm2:{oldpassword:"",password:"",checkPass:""},rules2:{oldpassword:[{required:!0,validator:r,trigger:"blur"}],password:[{required:!0,validator:r,trigger:"blur"}],checkPass:[{required:!0,validator:function(r,s,o){""===s?o(new Error("请再次输入密码")):s!==e.ruleForm2.password?o(new Error("两次输入密码不一致!")):o()},trigger:"blur"}]}}},methods:{submitForm:function(e){var r=this,s=this;this.$refs[e].validate(function(e){if(!e)return console.log("error submit!!"),!1;r.$axios.post("/a/update_user_password",{old_password:r.ruleForm2.oldpassword,password:r.ruleForm2.password,user_id:r.$store.getters.info.uid}).then(function(e){s.$message({showClose:!0,message:e.data.msg,type:"success"}),setTimeout(function(){t.a.remove("access_token"),location.reload()},3e3)}).catch(function(e){s.$message({showClose:!0,message:e,type:"error"})})})},resetForm:function(e){this.$refs[e].resetFields()}}},l={render:function(){var e=this,r=e.$createElement,s=e._self._c||r;return s("div",{staticClass:"card"},[e._m(0),e._v(" "),s("el-form",{ref:"ruleForm2",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm2,"status-icon":"",rules:e.rules2,"label-width":"100px"}},[s("el-form-item",{attrs:{label:"原密码",prop:"oldpassword"}},[s("el-input",{attrs:{type:"password",autocomplete:"off"},model:{value:e.ruleForm2.oldpassword,callback:function(r){e.$set(e.ruleForm2,"oldpassword",r)},expression:"ruleForm2.oldpassword"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"密码",prop:"password"}},[s("el-input",{attrs:{type:"password",autocomplete:"off"},model:{value:e.ruleForm2.password,callback:function(r){e.$set(e.ruleForm2,"password",r)},expression:"ruleForm2.password"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"确认密码",prop:"checkPass"}},[s("el-input",{attrs:{type:"password",autocomplete:"off"},model:{value:e.ruleForm2.checkPass,callback:function(r){e.$set(e.ruleForm2,"checkPass",r)},expression:"ruleForm2.checkPass"}})],1),e._v(" "),s("el-form-item",[s("el-button",{attrs:{type:"primary"},on:{click:function(r){e.submitForm("ruleForm2")}}},[e._v("提交")]),e._v(" "),s("el-button",{on:{click:function(r){e.resetForm("ruleForm2")}}},[e._v("重置")])],1)],1)],1)},staticRenderFns:[function(){var e=this.$createElement,r=this._self._c||e;return r("p",{staticClass:"title"},[r("i",{staticClass:"fa fa-th-large fa-lg"}),this._v("修改密码\n  ")])}]};var u=s("VU/8")(a,l,!1,function(e){s("IR+k")},"data-v-5f4c5138",null);r.default=u.exports},"IR+k":function(e,r){}});
//# sourceMappingURL=4.fea83df1ebafca85cdff.js.map