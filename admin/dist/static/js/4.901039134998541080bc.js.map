{"version":3,"sources":["webpack:///src/views/gift/list.vue","webpack:///./src/views/gift/list.vue?145c","webpack:///./src/views/gift/list.vue"],"names":["list","page","getList","_this","this","limit","$axios","post","postdata","then","res","logs","count","catch","error","_this2","clearValidate","_this3","dataForm","gift_list","render","_vm","_h","$createElement","_c","_self","attrs","type","icon","size","on","click","handleCreate","_v","data","integralListData","prop","label","scopedSlots","_u","key","fn","scope","_s","_f","row","join_time","background","layout","total","current-change","currentChange","prev-click","next-click","title","visible","dataFormVisible","width","update:visible","$event","ref","model","rules","dataFormRules","autocomplete","value","callback","$$v","$set","expression","staticClass","slot","formSubmit","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/4.901039134998541080bc.js","sourcesContent":["<template>\r\n  <div>\r\n    <div>\r\n      <el-button\r\n        type=\"primary\"\r\n        icon=\"el-icon-circle-plus-outline\"\r\n        size=\"mini\"\r\n        @click=\"handleCreate\"\r\n      >新增</el-button>\r\n    </div>\r\n    <el-table :data=\"integralListData\">\r\n      <el-table-column prop=\"id\" label=\"ID\"></el-table-column>\r\n      <el-table-column prop=\"tag\" label=\"赠送原因\"></el-table-column>\r\n      <el-table-column prop=\"name\" label=\"赠送内容\"></el-table-column>\r\n      <el-table-column prop=\"note\" label=\"机号\"></el-table-column>\r\n      <el-table-column prop=\"join_time\" label=\"时间\">\r\n        <template slot-scope=\"scope\">{{scope.row.join_time | formatTimestamp}}</template>\r\n      </el-table-column>\r\n      <!-- <el-table-column label=\"操作\">\r\n        <template slot-scope=\"scope\">\r\n          <el-button size=\"mini\" @click=\"handleEdit(scope.$index, scope.row)\">编辑</el-button>\r\n          <el-button size=\"mini\" @click=\"handleDelete(scope.$index, scope.row)\">删除</el-button>\r\n        </template>\r\n      </el-table-column>-->\r\n    </el-table>\r\n    <el-pagination\r\n      background\r\n      layout=\"prev, pager, next\"\r\n      :total=\"total\"\r\n      @current-change=\"currentChange\"\r\n      @prev-click=\"currentChange\"\r\n      @next-click=\"currentChange\"\r\n    ></el-pagination>\r\n\r\n    <el-dialog :title=\"'新增'\" :visible.sync=\"dataFormVisible\" width=\"40%\">\r\n      <el-form :model=\"dataForm\" ref=\"dataForm\" :rules=\"dataFormRules\">\r\n        <el-form-item label=\"机号\" prop=\"note\">\r\n          <el-input type=\"text\" v-model=\"dataForm.note\" autocomplete=\"off\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"赠送内容\" prop=\"name\">\r\n          <el-input type=\"text\" v-model=\"dataForm.name\" autocomplete=\"off\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"赠送原因\" prop=\"tag\">\r\n          <el-input type=\"text\" v-model=\"dataForm.tag\" autocomplete=\"off\"></el-input>\r\n        </el-form-item>\r\n      </el-form>\r\n      <span slot=\"footer\" class=\"dialog-footer\">\r\n        <el-button @click=\"dataFormVisible = false\">取 消</el-button>\r\n        <el-button type=\"primary\" @click=\"formSubmit\">确 定</el-button>\r\n      </span>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: \"integralLog\",\r\n  data() {\r\n    return {\r\n      total: 0,\r\n      page: 1,\r\n      limit: 10,\r\n      search: \"\",\r\n      integralListData: [],\r\n      dataFormVisible: false,\r\n      dataForm: {\r\n        name: \"\",\r\n        note: \"\",\r\n        tag: \"\"\r\n      },\r\n      dataFormRules: {\r\n        name: [{required:true,message:'请输入赠送内容',trigger:'blur'}],\r\n        note: [{required:true,message:'请输入赠送机号',trigger:'blur'}],\r\n        tag: [{required:true,message:'请输入赠送赠送原因',trigger:'blur'}]\r\n      }\r\n    };\r\n  },\r\n  methods: {\r\n    currentChange(page) {\r\n      this.page = page;\r\n      this.getList();\r\n    },\r\n    getList() {\r\n      let postdata = {\r\n        group: 400,\r\n        // user_id: 0,\r\n        page: this.page,\r\n        limit: this.limit\r\n        // search: this.search\r\n      };\r\n      this.$axios\r\n        .post(\"/a/integral_log_list\", postdata)\r\n        .then(res => {\r\n          console.log(res);\r\n\r\n          this.integralListData = res.data.data.logs;\r\n          this.total = res.data.data.count;\r\n        })\r\n        .catch(function(error) {\r\n          console.log(error);\r\n        });\r\n    },\r\n    handleCreate() {\r\n      this.dataForm = {\r\n        name: \"\",\r\n        note: \"\",\r\n        tag: \"\"\r\n      };\r\n      this.dataFormVisible = true\r\n      this.$nextTick(()=>{\r\n        this.$refs.dataForm.clearValidate()\r\n      })\r\n    },\r\n    formSubmit(){\r\n      this.$refs.dataForm.validate(valid=>{\r\n        if (valid) {\r\n          this.$axios\r\n        .post(\"/a/add_gift_record\", this.dataForm)\r\n        .then(res => {\r\n          this.dataFormVisible = false\r\n          this.getList()\r\n        })\r\n        .catch(function(error) {\r\n          console.log(error);\r\n        });\r\n        }\r\n      })\r\n    }\r\n  },\r\n  mounted() {\r\n    this.getList();\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/views/gift/list.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',[_c('el-button',{attrs:{\"type\":\"primary\",\"icon\":\"el-icon-circle-plus-outline\",\"size\":\"mini\"},on:{\"click\":_vm.handleCreate}},[_vm._v(\"新增\")])],1),_vm._v(\" \"),_c('el-table',{attrs:{\"data\":_vm.integralListData}},[_c('el-table-column',{attrs:{\"prop\":\"id\",\"label\":\"ID\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"tag\",\"label\":\"赠送原因\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"name\",\"label\":\"赠送内容\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"note\",\"label\":\"机号\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"join_time\",\"label\":\"时间\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(_vm._s(_vm._f(\"formatTimestamp\")(scope.row.join_time)))]}}])})],1),_vm._v(\" \"),_c('el-pagination',{attrs:{\"background\":\"\",\"layout\":\"prev, pager, next\",\"total\":_vm.total},on:{\"current-change\":_vm.currentChange,\"prev-click\":_vm.currentChange,\"next-click\":_vm.currentChange}}),_vm._v(\" \"),_c('el-dialog',{attrs:{\"title\":'新增',\"visible\":_vm.dataFormVisible,\"width\":\"40%\"},on:{\"update:visible\":function($event){_vm.dataFormVisible=$event}}},[_c('el-form',{ref:\"dataForm\",attrs:{\"model\":_vm.dataForm,\"rules\":_vm.dataFormRules}},[_c('el-form-item',{attrs:{\"label\":\"机号\",\"prop\":\"note\"}},[_c('el-input',{attrs:{\"type\":\"text\",\"autocomplete\":\"off\"},model:{value:(_vm.dataForm.note),callback:function ($$v) {_vm.$set(_vm.dataForm, \"note\", $$v)},expression:\"dataForm.note\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"赠送内容\",\"prop\":\"name\"}},[_c('el-input',{attrs:{\"type\":\"text\",\"autocomplete\":\"off\"},model:{value:(_vm.dataForm.name),callback:function ($$v) {_vm.$set(_vm.dataForm, \"name\", $$v)},expression:\"dataForm.name\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"赠送原因\",\"prop\":\"tag\"}},[_c('el-input',{attrs:{\"type\":\"text\",\"autocomplete\":\"off\"},model:{value:(_vm.dataForm.tag),callback:function ($$v) {_vm.$set(_vm.dataForm, \"tag\", $$v)},expression:\"dataForm.tag\"}})],1)],1),_vm._v(\" \"),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.dataFormVisible = false}}},[_vm._v(\"取 消\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.formSubmit}},[_vm._v(\"确 定\")])],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-6e8286d2\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/gift/list.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-6e8286d2\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./list.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./list.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./list.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-6e8286d2\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./list.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-6e8286d2\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/gift/list.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}